# BIO
## 1. 概述
UNIX有一条非常著名的理念：“一切皆文件”。这既是一句响亮的口号，也是一种深刻的设计哲理。在条理念的指导下，UNIX操作系统不仅大大降低了实现的复杂度，也让程序员能够更好的学习和掌握UNIX下的编程。UNIX-like的操作系统比之Windows，system call的数量要少很多，这大大降低了程序员的学习负担。
## 2. 文件描述符
在UNIX内核的角度看，任何文件都通过文件描述符（file discriptor）对外作为资源句柄。文件描述符是一个非负整型数类型，当应用需要打开一个文件或新建一个文件时，通过UNIX的系统调用就能拿到一个文件描述符。
请注意，按照“一切皆文件”的理念，应用打开的不仅仅是常规意义上的文件。计算机的输入输出也是以文件的概念抽象的，输入输出设备在工作时，可以视为对文件的读取和写入。在POSIX标准中，以文件描述符0，1，2分别对应标准输入，标准输出，标准输入。更严谨的方式是使用STDIN_FILENO, STDOUT_FILENO, STDERR_FILENO。

## 3.打开文件
调用open或openat函数可以打开或者创建一个文件。
```C++
#include <fcntl.h>
int open(const char *path, int oflag, .../*mode_t mode */);

int openat(int fd, const char *path, int oflag, .../*mode_t mode */);
```
返回值：非负整数，表示文件描述符，打开成功；-1，表示打开失败。

这里需要注意的是函数各个参数的含义，这点非常重要，如果你连打开文件时的参数都不明白，那么后续对文件的操作都建立在一个模糊基础上。
1. open

    open的第一个参数是path，类型是c风格的字符串。path的作用是告诉操作系统你要打开的文件。path可以是绝对路径也可以是相对路径。

    open的第二个参数是oflag，这个参数告诉操作系统将要以何种模式打开文件，它本质上是一个掩码。各种选项通过或运算进行设置。最常见的选项是以下三个：
    O_RDONLY - 以只读模式打开，通常实现为0。

    O_WRONLY - 以只写模式打开，通常实现为1。

    O_RDWR - 以可读可写模式打开，通常实现为2。



2. openat
